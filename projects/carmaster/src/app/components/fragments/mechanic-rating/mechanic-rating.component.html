<div class="border border-gray-200 bg-gray-50 p-3">
  <div class="flex flex-row gap-3 mb-3">
    <div class="w-full sm:w-3/4">
      <p class="text-2xl font-bold">{{ rating.title }}</p>
      <p>Rating: {{ rating.rating }}/5</p>
      <p class="my-2">{{ rating.summary }}</p>
      <p class="mt-3">{{ rating.created_at | date }} ({{ rating.created_at | timeAgo }})</p>
    </div>
  </div>

  <div class="">
    <div *ngIf="isRatingOwner" class="mb-2">
      <span class="label-info text-2xl">
        Add Update
      </span>
      <textarea type="text" class="input-text-1" placeholder="Enter Summary" rows="2" [formControl]="summaryControl"></textarea>
      <button
        type="button"
        class=btn-primary-1
        [disabled]="loading || summaryControl.invalid"
        (click)="onSubmitEdit()"
      >
        Submit
      </button>
    </div>

    <ng-container *ngIf="rating?.mechanic_rating_edits?.length">
      <span class="label-info text-2xl">
        Updates
      </span>
      <div *ngFor="let edit of rating?.mechanic_rating_edits!" class="border border-gray-200 bg-gray-50 p-3">
        <p class="">{{ edit.summary }}</p>
        <p class="mt-3">{{ edit.created_at | date }} ({{ edit.created_at | timeAgo }})</p>
      </div>
    </ng-container>
  </div>
</div>